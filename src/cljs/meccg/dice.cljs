(ns meccg.dice
  (:require [om.core :as om :include-macros true]
            [sablono.core :as sab :include-macros true]
            [clojure.string :refer [split]]))

(defn create-face [text symbol class]
  (.replace text (apply str symbol) (str "<img src='" class "'style=\"height:24px;\"></img>")))

(defn create-dice [text symbol class]
  (.replace text (apply str symbol) (str "<img src='" class "'style=\"height:32px;\"></img>")))

;  :background (:options @app-state))
;  (system-msg state side (str "rolls a " pick"-"(inc (rand-int 6))"+"size pick"-"(inc (rand-int 6))"+"size))))
; (get-in p [:user :options :deckstats])
; player (side @state)
; orgblack-16-1+16mmorgblack-16-1+16mm.

(defn add-faces [card-text]
  (-> (if (nil? card-text) "" card-text)
      (create-face "roll-1+16mm" "img/dice/dice-1@2x.png")
      (create-face "roll-2+16mm" "img/dice/dice-2@2x.png")
      (create-face "roll-3+16mm" "img/dice/dice-3@2x.png")
      (create-face "roll-4+16mm" "img/dice/dice-4@2x.png")
      (create-face "roll-5+16mm" "img/dice/dice-5@2x.png")
      (create-face "roll-6+16mm" "img/dice/dice-6@2x.png")
      (create-dice "roll-1+18mm" "img/dice/dice-1@2x.png")
      (create-dice "roll-2+18mm" "img/dice/dice-2@2x.png")
      (create-dice "roll-3+18mm" "img/dice/dice-3@2x.png")
      (create-dice "roll-4+18mm" "img/dice/dice-4@2x.png")
      (create-dice "roll-5+18mm" "img/dice/dice-5@2x.png")
      (create-dice "roll-6+18mm" "img/dice/dice-6@2x.png")

      (create-face "blck-16-1+16mm" "img/dice/black-16-1@2x.png")
      (create-face "blck-16-2+16mm" "img/dice/black-16-2@2x.png")
      (create-face "blck-16-3+16mm" "img/dice/black-16-3@2x.png")
      (create-face "blck-16-4+16mm" "img/dice/black-16-4@2x.png")
      (create-face "blck-16-5+16mm" "img/dice/black-16-5@2x.png")
      (create-face "blck-16-6+16mm" "img/dice/black-16-6@2x.png")
      (create-dice "blck-16-1+18mm" "img/dice/black-16-1@2x.png")
      (create-dice "blck-16-2+18mm" "img/dice/black-16-2@2x.png")
      (create-dice "blck-16-3+18mm" "img/dice/black-16-3@2x.png")
      (create-dice "blck-16-4+18mm" "img/dice/black-16-4@2x.png")
      (create-dice "blck-16-5+18mm" "img/dice/black-16-5@2x.png")
      (create-dice "blck-16-6+18mm" "img/dice/black-16-6@2x.png")

      (create-face "blacks-18-1+16mm" "img/dice/blacks-18-1@2x.png")
      (create-face "blacks-18-2+16mm" "img/dice/blacks-18-2@2x.png")
      (create-face "blacks-18-3+16mm" "img/dice/blacks-18-3@2x.png")
      (create-face "blacks-18-4+16mm" "img/dice/blacks-18-4@2x.png")
      (create-face "blacks-18-5+16mm" "img/dice/blacks-18-5@2x.png")
      (create-face "blacks-18-6+16mm" "img/dice/blacks-18-6@2x.png")
      (create-dice "blacks-18-1+18mm" "img/dice/blacks-18-1@2x.png")
      (create-dice "blacks-18-2+18mm" "img/dice/blacks-18-2@2x.png")
      (create-dice "blacks-18-3+18mm" "img/dice/blacks-18-3@2x.png")
      (create-dice "blacks-18-4+18mm" "img/dice/blacks-18-4@2x.png")
      (create-dice "blacks-18-5+18mm" "img/dice/blacks-18-5@2x.png")
      (create-dice "blacks-18-6+18mm" "img/dice/blacks-18-6@2x.png")

      (create-face "greys-16-1+16mm" "img/dice/greys-16-1@2x.png")
      (create-face "greys-16-2+16mm" "img/dice/greys-16-2@2x.png")
      (create-face "greys-16-3+16mm" "img/dice/greys-16-3@2x.png")
      (create-face "greys-16-4+16mm" "img/dice/greys-16-4@2x.png")
      (create-face "greys-16-5+16mm" "img/dice/greys-16-5@2x.png")
      (create-face "greys-16-6+16mm" "img/dice/greys-16-6@2x.png")
      (create-dice "greys-16-1+18mm" "img/dice/greys-16-1@2x.png")
      (create-dice "greys-16-2+18mm" "img/dice/greys-16-2@2x.png")
      (create-dice "greys-16-3+18mm" "img/dice/greys-16-3@2x.png")
      (create-dice "greys-16-4+18mm" "img/dice/greys-16-4@2x.png")
      (create-dice "greys-16-5+18mm" "img/dice/greys-16-5@2x.png")
      (create-dice "greys-16-6+18mm" "img/dice/greys-16-6@2x.png")

      (create-face "greys-18-1+16mm" "img/dice/greys-18-1@2x.png")
      (create-face "greys-18-2+16mm" "img/dice/greys-18-2@2x.png")
      (create-face "greys-18-3+16mm" "img/dice/greys-18-3@2x.png")
      (create-face "greys-18-4+16mm" "img/dice/greys-18-4@2x.png")
      (create-face "greys-18-5+16mm" "img/dice/greys-18-5@2x.png")
      (create-face "greys-18-6+16mm" "img/dice/greys-18-6@2x.png")
      (create-dice "greys-18-1+18mm" "img/dice/greys-18-1@2x.png")
      (create-dice "greys-18-2+18mm" "img/dice/greys-18-2@2x.png")
      (create-dice "greys-18-3+18mm" "img/dice/greys-18-3@2x.png")
      (create-dice "greys-18-4+18mm" "img/dice/greys-18-4@2x.png")
      (create-dice "greys-18-5+18mm" "img/dice/greys-18-5@2x.png")
      (create-dice "greys-18-6+18mm" "img/dice/greys-18-6@2x.png")

      (create-face "gsdark-16-1+16mm" "img/dice/gsdark-16-1@2x.png")
      (create-face "gsdark-16-2+16mm" "img/dice/gsdark-16-2@2x.png")
      (create-face "gsdark-16-3+16mm" "img/dice/gsdark-16-3@2x.png")
      (create-face "gsdark-16-4+16mm" "img/dice/gsdark-16-4@2x.png")
      (create-face "gsdark-16-5+16mm" "img/dice/gsdark-16-5@2x.png")
      (create-face "gsdark-16-6+16mm" "img/dice/gsdark-16-6@2x.png")
      (create-dice "gsdark-16-1+18mm" "img/dice/gsdark-16-1@2x.png")
      (create-dice "gsdark-16-2+18mm" "img/dice/gsdark-16-2@2x.png")
      (create-dice "gsdark-16-3+18mm" "img/dice/gsdark-16-3@2x.png")
      (create-dice "gsdark-16-4+18mm" "img/dice/gsdark-16-4@2x.png")
      (create-dice "gsdark-16-5+18mm" "img/dice/gsdark-16-5@2x.png")
      (create-dice "gsdark-16-6+18mm" "img/dice/gsdark-16-6@2x.png")

      (create-face "gslight-18-1+16mm" "img/dice/gslight-18-1@2x.png")
      (create-face "gslight-18-2+16mm" "img/dice/gslight-18-2@2x.png")
      (create-face "gslight-18-3+16mm" "img/dice/gslight-18-3@2x.png")
      (create-face "gslight-18-4+16mm" "img/dice/gslight-18-4@2x.png")
      (create-face "gslight-18-5+16mm" "img/dice/gslight-18-5@2x.png")
      (create-face "gslight-18-6+16mm" "img/dice/gslight-18-6@2x.png")
      (create-dice "gslight-18-1+18mm" "img/dice/gslight-18-1@2x.png")
      (create-dice "gslight-18-2+18mm" "img/dice/gslight-18-2@2x.png")
      (create-dice "gslight-18-3+18mm" "img/dice/gslight-18-3@2x.png")
      (create-dice "gslight-18-4+18mm" "img/dice/gslight-18-4@2x.png")
      (create-dice "gslight-18-5+18mm" "img/dice/gslight-18-5@2x.png")
      (create-dice "gslight-18-6+18mm" "img/dice/gslight-18-6@2x.png")

      (create-face "orgblack-16-1+16mm" "img/dice/orgblack-16-1@2x.png")
      (create-face "orgblack-16-2+16mm" "img/dice/orgblack-16-2@2x.png")
      (create-face "orgblack-16-3+16mm" "img/dice/orgblack-16-3@2x.png")
      (create-face "orgblack-16-4+16mm" "img/dice/orgblack-16-4@2x.png")
      (create-face "orgblack-16-5+16mm" "img/dice/orgblack-16-5@2x.png")
      (create-face "orgblack-16-6+16mm" "img/dice/orgblack-16-6@2x.png")
      (create-dice "orgblack-16-1+18mm" "img/dice/orgblack-16-1@2x.png")
      (create-dice "orgblack-16-2+18mm" "img/dice/orgblack-16-2@2x.png")
      (create-dice "orgblack-16-3+18mm" "img/dice/orgblack-16-3@2x.png")
      (create-dice "orgblack-16-4+18mm" "img/dice/orgblack-16-4@2x.png")
      (create-dice "orgblack-16-5+18mm" "img/dice/orgblack-16-5@2x.png")
      (create-dice "orgblack-16-6+18mm" "img/dice/orgblack-16-6@2x.png")

      (create-face "rsblack-16-1+16mm" "img/dice/rsblack-16-1@2x.png")
      (create-face "rsblack-16-2+16mm" "img/dice/rsblack-16-2@2x.png")
      (create-face "rsblack-16-3+16mm" "img/dice/rsblack-16-3@2x.png")
      (create-face "rsblack-16-4+16mm" "img/dice/rsblack-16-4@2x.png")
      (create-face "rsblack-16-5+16mm" "img/dice/rsblack-16-5@2x.png")
      (create-face "rsblack-16-6+16mm" "img/dice/rsblack-16-6@2x.png")
      (create-dice "rsblack-16-1+18mm" "img/dice/rsblack-16-1@2x.png")
      (create-dice "rsblack-16-2+18mm" "img/dice/rsblack-16-2@2x.png")
      (create-dice "rsblack-16-3+18mm" "img/dice/rsblack-16-3@2x.png")
      (create-dice "rsblack-16-4+18mm" "img/dice/rsblack-16-4@2x.png")
      (create-dice "rsblack-16-5+18mm" "img/dice/rsblack-16-5@2x.png")
      (create-dice "rsblack-16-6+18mm" "img/dice/rsblack-16-6@2x.png")

      (create-face "rsblack-18-1+16mm" "img/dice/rsblack-18-1@2x.png")
      (create-face "rsblack-18-2+16mm" "img/dice/rsblack-18-2@2x.png")
      (create-face "rsblack-18-3+16mm" "img/dice/rsblack-18-3@2x.png")
      (create-face "rsblack-18-4+16mm" "img/dice/rsblack-18-4@2x.png")
      (create-face "rsblack-18-5+16mm" "img/dice/rsblack-18-5@2x.png")
      (create-face "rsblack-18-6+16mm" "img/dice/rsblack-18-6@2x.png")
      (create-dice "rsblack-18-1+18mm" "img/dice/rsblack-18-1@2x.png")
      (create-dice "rsblack-18-2+18mm" "img/dice/rsblack-18-2@2x.png")
      (create-dice "rsblack-18-3+18mm" "img/dice/rsblack-18-3@2x.png")
      (create-dice "rsblack-18-4+18mm" "img/dice/rsblack-18-4@2x.png")
      (create-dice "rsblack-18-5+18mm" "img/dice/rsblack-18-5@2x.png")
      (create-dice "rsblack-18-6+18mm" "img/dice/rsblack-18-6@2x.png")

      (create-face "rswhite-16-1+16mm" "img/dice/rswhite-16-1@2x.png")
      (create-face "rswhite-16-2+16mm" "img/dice/rswhite-16-2@2x.png")
      (create-face "rswhite-16-3+16mm" "img/dice/rswhite-16-3@2x.png")
      (create-face "rswhite-16-4+16mm" "img/dice/rswhite-16-4@2x.png")
      (create-face "rswhite-16-5+16mm" "img/dice/rswhite-16-5@2x.png")
      (create-face "rswhite-16-6+16mm" "img/dice/rswhite-16-6@2x.png")
      (create-dice "rswhite-16-1+18mm" "img/dice/rswhite-16-1@2x.png")
      (create-dice "rswhite-16-2+18mm" "img/dice/rswhite-16-2@2x.png")
      (create-dice "rswhite-16-3+18mm" "img/dice/rswhite-16-3@2x.png")
      (create-dice "rswhite-16-4+18mm" "img/dice/rswhite-16-4@2x.png")
      (create-dice "rswhite-16-5+18mm" "img/dice/rswhite-16-5@2x.png")
      (create-dice "rswhite-16-6+18mm" "img/dice/rswhite-16-6@2x.png")
      ))